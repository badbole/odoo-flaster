<odoo>
    <record id="group_product_allowed_manager_customer" model="res.groups">
        <field name="name">Allowed Products</field>
    </record>

    <record id="allowed_product_rule_customer" model="ir.rule">
        <field name="name">Allowed Product</field>
        <field ref="model_product_template" name="model_id"/>
        <field name="domain_force">[('id','in', user.partner_id.product_template_ids.ids)]</field>
        <field name="groups" eval="[(4, ref('eg_allowed_product_for_customers.group_product_allowed_manager_customer'))]"/>
    </record>
</odoo>